---
import { getCollection } from "astro:content";
import "@fontsource-variable/roboto-slab";

import Post from "../components/Post.astro";
import Link from "../components/Link.astro";
import BaseHead from "../components/BaseHead.astro";

import { SITE_TITLE } from "../consts";

const description =
  "Documenting Mihail Marian's journey into algorithmic trading. I'll be analysing the world of financial markets and quantitative investing with a healthy dose of scepticism.";

const posts = (await getCollection("blog")).sort(
  (a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf()
);
---

<html lang="en">
  <head>
    <BaseHead title={SITE_TITLE} description={description} />
  </head>
  <body
    class="max-w-prose mx-auto min-h-screen px-6 py-10 sm:px-8 bg-gray-100 font-roboto"
  >
    <main class="space-y-8">
      <h1 class="font-bold md:font-medium text-3xl md:text-5xl mb-10">
        {SITE_TITLE}
      </h1>
      <section>
        <p>
          Hi! I'm Mihail, a software engineer based in the UK. I'm documenting
          my journey into algorithmic trading - hopefully you'll find it
          informative, or at least entertaining.
        </p>
      </section>
      <section>
        <h2 class="font-bold text-3xl mb-3">Posts</h2>
        <ul class="space-y-1">{posts.map((post) => <Post post={post} />)}</ul>
      </section>
      <section>
        <h2 class="font-bold text-3xl mb-3">Contact</h2>
        <p>
          The best way to reach out to me is <Link
            url="https://linkedin.com/in/mihailmarian">via LinkedIn</Link
          >; make sure you add a message in the connection invite. Another
          option is to use <Link url="https://forms.gle/tz3325pey9SjgV9X9"
            >this hideous form</Link
          >. Include your email address if you'd like me to reply.
        </p>
      </section>
    </main>
  </body>
</html>
